<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="css/luntbuild.css" rel="stylesheet" type="text/css"/>
</head>
<span jwcid="$content$">
<table width="100%"  border="0" cellpadding="0" cellspacing="0"> 
  <tr> 
    <td height="13" align="left" valign="top" bgcolor="#CCCCCC"><table width="100%" border="0" cellpadding="0" cellspacing="0" class="iconTable"> 
        <tr> 
          <td>&nbsp;</td> 
          <td width="25">&nbsp;</td> 
        </tr> 
      </table></td> 
  </tr> 
  <tr> 
    <td> 	  	
	<span jwcid="@Conditional" condition="ognl:isSiteAdmin()">
	<span jwcid="@contrib:Choose"> <span jwcid="@contrib:When" condition="ognl:action != null"> <span jwcid="@RenderBlock" block="ognl:getComponent(action)"/> </span> <span jwcid="@contrib:Otherwise">
    <table width="100%"  border="0" cellpadding="0" cellspacing="0">
    <tr align="center" bordercolor="#EAEDF4" bgcolor="#FFFFE6"> 
      <td colspan="4" bgcolor="#EAEDF4" scope="col"> <table width="100%"  border="0" cellpadding="0" cellspacing="0" class="propertyEditorTitle"> 
          <tr> 
            <td align="center">Data export/import</td> 
          </tr> 
          <span jwcid="@Conditional" condition="ognl:errorMsg != null">
          <tr> 
            <td colspan="4" align="left" valign="top" class="errorMsg" scope="col"><img src="images/error.gif" width="32" height="32" border="0" align="absmiddle"> <span jwcid="@InsertText" value="ognl:errorMsg">error message</span></td> 
          </tr> 
          </span> 
          <span jwcid="@Conditional" condition="ognl:successMsg != null">
          <tr>
            <td colspan="4" align="left" valign="top" class="successMsg" scope="col"><img src="images/operation_success.gif" width="18" height="25" border="0" align="absmiddle"> <span jwcid="@InsertText" value="ognl:successMsg">success message</span></td>
          </tr>
          </span>
        </table></td>
    </tr>
        <form jwcid="@Form" listener="ognl:listeners.exportData" name="form" method="post">
          <tr> 
            <td width="20%" align="left" valign="top" class="propertyEditorName propertyEditorName1"><img src="images/file.gif" width="16" height="16" align="absmiddle"> File to export to</td> 
            <td width="80%" align="left" valign="top" class="propertyEditorValue propertyEditorValue1"><input name="textfield" type="text" class="inputBox" value="ognl:filePathToExport" size="50" jwcid="@TextField"/>
              <input jwcid="@Submit" name="export" type="submit" id="export" value="Export"/>
              <br>
              This operation may take a long time if there are many builds in the system.
              We strongly suggest to delete non-necessary builds in order to speed up the export and the import using this exported file.
              If relative path is specified, the file will be located relative to the Luntbuild installation directory.
           </td>
          </tr> 
        </form> 
        <form jwcid="@Form" listener="ognl:listeners.importData" name="form" method="post">
          <tr> 
            <td align="left" valign="top" class="propertyEditorName propertyEditorName2"><img src="images/file.gif" width="16" height="16" align="absmiddle"> File to import from </td> 
            <td align="left" valign="top" class="propertyEditorValue propertyEditorValue2"><input name="textfield2" type="text" class="inputBox" value="ognl:filePathToImport" size="50" jwcid="@TextField"/>
              <input jwcid="@Submit" name="import" type="submit" id="import" value="Import"/>
              <br>
              This operation will first erase all existing data (build artifacts under publish directory will not be deleted), and then import data from the specified file.
              It may take a long time depending on the size of the file being imported.
              If relative path is specified, the file will be located relative to the Luntbuild installation directory.
            </td>
          </tr> 
        </form> 
        <form jwcid="@Form" listener="ognl:listeners.exportProjectData" name="form" method="post">
          <tr>
            <td width="20%" align="left" valign="top" class="propertyEditorName propertyEditorName1"><img src="images/description.gif" width="18" height="14" align="absmiddle"> Project to export</td>
            <td width="80%" align="left" valign="top" class="propertyEditorValue propertyEditorValue1">
              <select name="select" class="inputBox" jwcid="@PropertySelection" model="ognl:projectSelectionModel" value="ognl:projectToExport"></select> <br>
              Select a project to export. The all project settings, mappings, schedules for the project, and builds for the project will be exported.</td>
          </tr>
          <tr>
            <td width="20%" align="left" valign="top" class="propertyEditorName propertyEditorName1"><img src="images/file.gif" width="16" height="16" align="absmiddle"> File to export project to</td> 
            <td width="80%" align="left" valign="top" class="propertyEditorValue propertyEditorValue1"><input name="textfield3" type="text" class="inputBox" value="ognl:projectPathToExport" size="50" jwcid="@TextField"/>
              <input jwcid="@Submit" name="projectexport" type="submit" id="projectexport" value="Export Project"/>
              <br>
              This operation may take a long time if there are many builds in the project.
              We strongly suggest to delete non-necessary builds in order to speed up the export and the import using this exported file.
              If relative path is specified, the file will be located relative to the Luntbuild installation directory.
           </td>
          </tr>
        </form>
        <form jwcid="@Form" listener="ognl:listeners.importProjectData" name="form" method="post">
          <tr>
            <td align="left" valign="top" class="propertyEditorName propertyEditorName2"><img src="images/file.gif" width="16" height="16" align="absmiddle"> File to import project from </td> 
            <td align="left" valign="top" class="propertyEditorValue propertyEditorValue2"><input name="textfield4" type="text" class="inputBox" value="ognl:projectPathToImport" size="50" jwcid="@TextField"/>
              <input jwcid="@Submit" name="projectimport" type="submit" id="projectimport" value="Import Project"/>
              <br>
              This operation will import a project from the specified file.
              It may take a long time depending on the size of the file being imported.
              If relative path is specified, the file will be located relative to the Luntbuild installation directory.
            </td>
          </tr>
        </form>
      </table>
      </span></span></span>
   	  <span jwcid="@Conditional" condition="ognl:!isSiteAdmin()">
		<div align="left" class="exceptionMsg">
			  <img src="images/sigh.gif" width="32" height="32" align="absmiddle"> Only site admin can access this page!
		</div>			  
	  </span>
	  </td>
  </tr> 
</table>
<span jwcid="import@Block">
<table width="100%" height="100%"  border="0" cellspacing="0">
  <tr>
    <td height="500" align="center" valign="middle"> <span jwcid="@luntbuild:YesNoBox"
    msg="Existing data will be erased before import. Do you really want to continue?"
    okListener="ognl:listeners.confirmImport" cancelListener="ognl:listeners.cancelImport"/> </td>
  </tr>
</table>
</span>
</span>
