CREATE TABLE LB_ROLE(ID BIGINT NOT NULL PRIMARY KEY,NAME VARCHAR(64) NOT NULL,CONSTRAINT SYS_CT_1 UNIQUE(NAME))
CREATE TABLE LB_ROLES_MAPPING(ID BIGINT NOT NULL PRIMARY KEY,FK_USER_ID BIGINT,FK_PROJECT_ID BIGINT,FK_ROLE_ID BIGINT,CONSTRAINT FKC01F0A03458EB40A FOREIGN KEY(FK_ROLE_ID) REFERENCES LB_ROLE(ID))
CREATE CACHED TABLE LB_BUILD(ID BIGINT NOT NULL PRIMARY KEY,STATUS INTEGER,VERSION VARCHAR(255),LABEL_STRATEGY INTEGER,POSTBUILD_STRATEGY INTEGER,HAVE_LABEL_ON_HEAD BOOLEAN,BUILD_TYPE INTEGER,START_DATE TIMESTAMP,END_DATE TIMESTAMP,REBUILD BOOLEAN,VCS_LIST VARBINARY(65535),BUILDER_LIST VARBINARY(65535),POSTBUILDER_LIST VARBINARY(65535),FK_SCHEDULE_ID BIGINT NOT NULL)
CREATE TABLE LB_USER(ID BIGINT NOT NULL PRIMARY KEY,NAME VARCHAR(64) NOT NULL,PASSWORD VARCHAR(255),CAN_CREATE_PROJECT BOOLEAN,CONTACTS VARBINARY(65535),FULLNAME VARCHAR(64),CONSTRAINT SYS_CT_3 UNIQUE(NAME))
CREATE TABLE LB_PROJECT(ID BIGINT NOT NULL PRIMARY KEY,NAME VARCHAR(64) NOT NULL,DESCRIPTION VARCHAR(255),NOTIFIERS VARBINARY(4096),VCS_LIST VARBINARY(65535),BUILDER_LIST VARBINARY(65535),VARIABLES VARCHAR(2048),LOG_LEVEL INTEGER,CONSTRAINT SYS_CT_5 UNIQUE(NAME))
CREATE TABLE LB_VCS_LOGIN(ID BIGINT NOT NULL PRIMARY KEY,FK_PROJECT_ID BIGINT,LOGIN VARCHAR(255),FK_USER_ID BIGINT,CONSTRAINT SYS_CT_7 UNIQUE(FK_PROJECT_ID,LOGIN),CONSTRAINT FK1EF5C187EAB80C95 FOREIGN KEY(FK_USER_ID) REFERENCES LB_USER(ID),CONSTRAINT FK1EF5C187613C97DB FOREIGN KEY(FK_PROJECT_ID) REFERENCES LB_PROJECT(ID))
CREATE TABLE LB_SCHEDULE(ID BIGINT NOT NULL PRIMARY KEY,FK_PROJECT_ID BIGINT,NAME VARCHAR(64) NOT NULL,DESCRIPTION VARCHAR(255),NEXT_VERSION VARCHAR(255),NEXT_VERSION_VALUE VARCHAR(255),QUARTZ_TRIGGER VARBINARY(65535),DEPENDENT_SCHEDULE_IDS VARBINARY(65535),BUILD_NECESSARY_CONDITION VARCHAR(255),ASSOCIATED_BUILDER_NAMES VARBINARY(4096),ASSOCIATED_POSTBUILDER_NAMES VARBINARY(4096),BUILD_TYPE INTEGER,LABEL_STRATEGY INTEGER,NOTIFY_STRATEGY INTEGER,POSTBUILD_STRATEGY INTEGER,TRIGGER_DEPENDENCY_STRATEGY INTEGER,STATUS INTEGER,STATUS_DATE TIMESTAMP,BUILD_CLEANUP_STRATEGY INTEGER,BUILD_CLEANUP_STRATEGY_DATA VARCHAR(255),WORK_SUBDIR VARCHAR(255),CONSTRAINT SYS_CT_9 UNIQUE(FK_PROJECT_ID,NAME),CONSTRAINT FK3945EF40613C97DB FOREIGN KEY(FK_PROJECT_ID) REFERENCES LB_PROJECT(ID))
CREATE TABLE LB_NOTIFY_MAPPING(ID BIGINT NOT NULL PRIMARY KEY,FK_PROJECT_ID BIGINT,FK_USER_ID BIGINT,CONSTRAINT FK1B2007A1EAB80C95 FOREIGN KEY(FK_USER_ID) REFERENCES LB_USER(ID),CONSTRAINT FK1B2007A1613C97DB FOREIGN KEY(FK_PROJECT_ID) REFERENCES LB_PROJECT(ID))
CREATE TABLE LB_PROPERTY(NAME VARCHAR(64) NOT NULL PRIMARY KEY,VALUE VARCHAR(255))
ALTER TABLE LB_ROLES_MAPPING ADD CONSTRAINT FKC01F0A03EAB80C95 FOREIGN KEY(FK_USER_ID) REFERENCES LB_USER(ID)
ALTER TABLE LB_ROLES_MAPPING ADD CONSTRAINT FKC01F0A03613C97DB FOREIGN KEY(FK_PROJECT_ID) REFERENCES LB_PROJECT(ID)
ALTER TABLE LB_BUILD ADD CONSTRAINT FK201ACA458C6B749 FOREIGN KEY(FK_SCHEDULE_ID) REFERENCES LB_SCHEDULE(ID)
CREATE USER SA PASSWORD "" ADMIN
SET WRITE_DELAY 60
INSERT INTO LB_ROLE VALUES(1,'ROLE_AUTHENTICATED')
INSERT INTO LB_ROLE VALUES(2,'ROLE_SITE_ADMIN')
INSERT INTO LB_ROLE VALUES(6,'ROLE_ANONYMOUS')
INSERT INTO LB_ROLE VALUES(3,'LUNTBUILD_PRJ_ADMIN')
INSERT INTO LB_ROLE VALUES(4,'LUNTBUILD_PRJ_BUILDER')
INSERT INTO LB_ROLE VALUES(5,'LUNTBUILD_PRJ_VIEWER')
INSERT INTO LB_USER VALUES(1,'<users who checked in code recently>',NULL,FALSE,'aced0005737200176a6176612e7574696c2e4c696e6b6564486173684d617034c04e5c106cc0fb0200015a000b6163636573734f72646572787200116a6176612e7574696c2e486173684d61700507dac1c31660d103000246000a6c6f6164466163746f724900097468726573686f6c6478703f4000000000000c770800000010000000007800',NULL)
INSERT INTO LB_PROPERTY VALUES('com.luntsys.luntbuild.notifiers.EmailNotifier#Email address of the sender','')
INSERT INTO LB_PROPERTY VALUES('com.luntsys.luntbuild.notifiers.EmailNotifier#SMTP host','')
INSERT INTO LB_PROPERTY VALUES('com.luntsys.luntbuild.notifiers.EmailNotifier#SMTP password','')
INSERT INTO LB_PROPERTY VALUES('com.luntsys.luntbuild.notifiers.EmailNotifier#SMTP user','')
INSERT INTO LB_PROPERTY VALUES('com.luntsys.luntbuild.notifiers.JabberNotifier#Jabber password','')
INSERT INTO LB_PROPERTY VALUES('com.luntsys.luntbuild.notifiers.JabberNotifier#Jabber server','')
INSERT INTO LB_PROPERTY VALUES('com.luntsys.luntbuild.notifiers.JabberNotifier#Jabber server port','')
INSERT INTO LB_PROPERTY VALUES('com.luntsys.luntbuild.notifiers.JabberNotifier#Jabber user','')
INSERT INTO LB_PROPERTY VALUES('com.luntsys.luntbuild.notifiers.MsnNotifier#Luntbuild MSN account','')
INSERT INTO LB_PROPERTY VALUES('com.luntsys.luntbuild.notifiers.MsnNotifier#Luntbuild MSN password','')
INSERT INTO LB_PROPERTY VALUES('pageRefreshInterval','')
INSERT INTO LB_PROPERTY VALUES('publishDir','')
INSERT INTO LB_PROPERTY VALUES('servletUrl','')
INSERT INTO LB_PROPERTY VALUES('workingDir','')
