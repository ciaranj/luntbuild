<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 14. Using Notification Templates</title><link rel="stylesheet" href="luntbuild.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.67.2"><link rel="start" href="index.html" title="Luntbuild - Build Automation and Management User's Guide"><link rel="up" href="index.html" title="Luntbuild - Build Automation and Management User's Guide"><link rel="prev" href="ch13s02.html" title="Schedule Parameters."><link rel="next" href="ch15.html" title="Chapter 15. Defining Login Mapping for a Project"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 14. Using Notification Templates</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch13s02.html"><img src="../images/prev.gif" alt="Prev"></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch15.html"><img src="../images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="notificationtemplates"></a>Chapter 14. Using Notification Templates</h2></div></div></div><p>
      All schedule and build notifications use a <a href="http://velocity.apache.org/" target="_top"><span class="emphasis"><em>Velocity</em></span></a>
      template to control the body of the message. This allows dynamic information from Luntbuild to be combined with static information
      and formatting.  More information can be found in the 
      <a href="http://velocity.apache.org/engine/devel/user-guide.html" target="_top"><span class="emphasis"><em>Velocity User Manual</em></span></a>.
   </p><p>
      Setting which template to use is done through the <span class="emphasis"><em>set_template.txt</em></span> file in the "templates/&lt;format&gt;" folders.
      In this text file should be a list of variables pointing to template files. The default templates for notifications are
      set using the <span class="emphasis"><em>buildTemplate</em></span> variable for builds and the <span class="emphasis"><em>scheduleTemplate</em></span> variable for schedules.
      Individual schedules can use their own templates by setting a variable using this format:
   </p><pre class="programlisting">
   &lt;project&gt;_&lt;schedule&gt;_buildTemplate=my_template_file.vm
   &lt;project&gt;_&lt;schedule&gt;_scheduleTemplate=my_template_file.vm
   </pre><p>
      The tables below list the variables that are made available by Luntbuild in the templates.
   </p><div class="table"><a name="id352198"></a><p class="title"><b>Table 14.1. Variables available for Build Notifications</b></p><table summary="Variables available for Build Notifications" border="1"><colgroup><col><col></colgroup><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td>${luntbuild_webroot}</td><td>The base URL of Luntbuild (http://&lt;hostname&gt;:&lt;port&gt;/luntbuild)</td></tr><tr><td>${luntbuild_servlet_url}</td><td>The severlet URL as set in the system properties</td></tr><tr><td>${luntbuild_systemlog_url}</td><td>The URL to access the Luntbuild system log</td></tr><tr><td>${build_project}</td><td>The name of the parent project of the build</td></tr><tr><td>${build_project_desc}</td><td>The description of the project</td></tr><tr><td>${build_schedule}</td><td>The name of the parent schedule of the build</td></tr><tr><td>${build_schedule_desc}</td><td>The description of the schedule</td></tr><tr><td>${build_schedule_url}</td><td>The URL to access the schedule</td></tr><tr><td>${build_schedule_status}</td><td>The current status of the schedule</td></tr><tr><td>${build_schedule_status_date}</td><td>The date the status of the schedule was last updated</td></tr><tr><td>${build_url}</td><td>The URL to access the build</td></tr><tr><td>${build_version}</td><td>The build version</td></tr><tr><td>${build_status}</td><td>The build status</td></tr><tr><td>${build_isSuccess}</td><td>"true" if build succeeded</td></tr><tr><td>${build_isFailure}</td><td>"true" if build failed</td></tr><tr><td>${build_changelist}</td><td>The changelist from Perforce that the build built from</td></tr><tr><td>${build_start}</td><td>The date and time that the build started</td></tr><tr><td>${build_end}</td><td>The date and time that the build ended</td></tr><tr><td>${build_duration}</td><td>The duration of the build in seconds</td></tr><tr><td>${build_artifactsdir}</td><td>The full path to the artifact location of the build</td></tr><tr><td>${build_publishdir}</td><td>The full path to the publish location of the build</td></tr><tr><td>${build_revisionlog_url}</td><td>The URL to access the revision log for the build</td></tr><tr><td>${build_revisionlog_text}</td><td>The text of the revision log for the build</td></tr><tr><td>${build_buildlog_url}</td><td>The URL to access the build log for the build</td></tr><tr><td>${build_buildlog_text}</td><td>The text of the build log for the build</td></tr><tr><td>${build_junit_reportdir}</td><td>The full path to the JUnit reports for the build</td></tr><tr><td>${build_type}</td><td>The type of build (e.g. "clean" or "increment")</td></tr><tr><td>${build_labelstrategy}</td><td>The labeling strategy used for the build</td></tr></tbody></table></div><div class="table"><a name="id352472"></a><p class="title"><b>Table 14.2. Variables available for Schedule Notifications</b></p><table summary="Variables available for Schedule Notifications" border="1"><colgroup><col><col></colgroup><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td>${luntbuild_webroot}</td><td>The base URL of Luntbuild (http://&lt;hostname&gt;:&lt;port&gt;/luntbuild)</td></tr><tr><td>${luntbuild_servlet_url}</td><td>The severlet URL as set in the system properties</td></tr><tr><td>${luntbuild_systemlog_url}</td><td>The URL to access the Luntbuild system log</td></tr><tr><td>${schedule_project}</td><td>The name of the parent project of the schedule</td></tr><tr><td>${schedule_project_desc}</td><td>The description of the project</td></tr><tr><td>${schedule_name}</td><td>The name of the schedule</td></tr><tr><td>${schedule_desc}</td><td>The description of the schedule</td></tr><tr><td>${schedule_url}</td><td>The URL to access the schedule</td></tr><tr><td>${schedule_status}</td><td>The current status of the schedule</td></tr><tr><td>${schedule_status_date}</td><td>The date the status of the schedule was last updated</td></tr><tr><td>${schedule_publishdir}</td><td>The full path to the publish location of the schedule</td></tr><tr><td>${schedule_type}</td><td>The type of build (e.g. "clean" or "increment") the schedule runs</td></tr><tr><td>${schedule_labelstrategy}</td><td>The labeling strategy used for the schedule</td></tr></tbody></table></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch13s02.html"><img src="../images/prev.gif" alt="Prev"></a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch15.html"><img src="../images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">Schedule Parameters. </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="../images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top"> Chapter 15. Defining Login Mapping for a Project</td></tr></table></div></body></html>
