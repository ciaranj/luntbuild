<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 16. Creating/Modifying project's Ant Builder</title><link rel="stylesheet" href="luntbuild.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.67.2"><link rel="start" href="index.html" title="Luntbuild - Build Automation and Management User's Guide"><link rel="up" href="index.html" title="Luntbuild - Build Automation and Management User's Guide"><link rel="prev" href="ch15.html" title="Chapter 15. Defining Login Mapping for a Project"><link rel="next" href="ch17.html" title="Chapter 17. Creating/Modifying Project's Maven Builder"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 16. Creating/Modifying project's Ant Builder</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch15.html"><img src="../images/prev.gif" alt="Prev"></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch17.html"><img src="../images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="antbuild"></a>Chapter 16. Creating/Modifying project's Ant Builder</h2></div></div></div><p>
As introduced in chapter <a href="ch12.html" title="Chapter 12. Creating the Project Builder(s)"> </a>, you need to provide a build file, which will be used
by Ant to build your project. This build file is a regular Ant build file. Before your build file is executed,
Luntbuild will pre-define the following properties:
</p><div class="variablelist"><dl><dt><span class="term">buildVersion</span></dt><dd><p>
        This property contains the current version of this build.
        </p></dd><dt><span class="term">buildDate</span></dt><dd><p>
        This property contains the build time/date of this build.
        </p></dd><dt><span class="term">artifactsDir</span></dt><dd><p>
        This property specifies the artifacts/publishing directory for the current build.
        You should generate all your final build artifacts to directory defined by property "artifactsDir",
        or its subdirectories. Luntbuild only stores the information about this build under this directory.
        You can then export your internal artifacts of this build as follows:
</p><pre class="programlisting">

&lt;zip basedir="stage" destfile="${artifactsDir}/${buildVersion}.zip"/&gt;

</pre><p>
        </p></dd></dl></div><p>
	These properties are not only useful when writing the Ant build file, but also useful when you run your application.
	For example, you can show the build version number in your application's About dialog.
	To achieve this, you should write these properties into a file which will be packaged
	in your application's distribution. You can insert the following lines inside a package target of your Ant build file:
</p><pre class="programlisting">

&lt;propertyfile file="stage/buildInfo.properties"&gt;
&lt;entry key="buildVersion" value="${buildVersion}"/&gt;
&lt;entry key="buildDate" value="${buildDate}"/&gt;
&lt;/propertyfile&gt;

</pre><p>
	Although Luntbuild pre-defines the above properties before it runs Ant,
	you are encouraged to specify the default values for those properties at the beginning of your build file, such as:
</p><pre class="programlisting">

&lt;property name="buildVersion" value="luntbuild-1.0"/&gt;
&lt;property name="artifactsDir" value="distribute"/&gt;
&lt;property name="buildDate" value=""/&gt;

</pre><p>
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>
	You do not need to redirect any generated outputs or errors from the Ant build file to your log file.
	Just let Ant to output them to stdout or stderr. Luntbuild will capture them and write them
	into the prepared log file and publish the log file on the build's artifactsDir.
	</p></td></tr></table></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch15.html"><img src="../images/prev.gif" alt="Prev"></a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch17.html"><img src="../images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 15. Defining Login Mapping for a Project </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="../images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top"> Chapter 17. Creating/Modifying Project's Maven Builder</td></tr></table></div></body></html>
